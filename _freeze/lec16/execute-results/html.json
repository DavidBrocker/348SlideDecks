{
  "hash": "34f21167815791bfdacb87990a25d9e5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Analysis of Variance\"\nsubtitle: \"Lecture 16\"\nauthor: \"Dave Brocker\"\nfooter: \"⬡⬢⬡⬢⬡⬢⬡⬢⬡⬢⬡⬢⬡⬢⬡\"\ninstitute: \"Farmingdale State College\"\nexecute:\n  echo: true\nformat: \n  revealjs:\n    theme: custom.scss\n    scrollable: true\n    incremental: true   \n    touch: true\n    chalkboard: true\n    lightbox: true\n    code-fold: true\n    drop:\n      engine: webr\n      webr:\n        packages:\n         - ggplot2\n         - dplyr\nrevealjs-plugins:\n  - drop\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n\n\n## Analysis Of Variance (ANOVA)\n\n-   ANOVA, like t-tests, compares the means of different groups to\n    determine if they differ **significantly** from one another.\n\n::: fragment\n$$\\large{F = \\frac{\\Sigma n_j(\\bar{X}_j-\\bar{X})^2/(k-1)}{\\Sigma \\Sigma(X -\\bar{X}_j)^2/N-k}}$$\n:::\n\n## T-tests\n\n### Structure\n\n-   Independent Variable **must be** what two things?\n\n-   Dependent Variable **must be** what one thing?\n\n## T-tests\n\n### Structure\n\n-   IV **must be** nominal and have only 2 categories (levels)\n\n-   DV **must be** continuous\n\n## T-Tests\n\n### Hypothesis Testing\n\n-   $H_0: \\mu_1 = \\mu_2$\n\n    -   $H_0: \\mu_A = \\mu_B$\n\n    -   $H_0: \\mu_{Coffee} = \\mu_{\\text{No Coffee}}$\n\n-   $H_1: \\text{Means are not Equal}$\n\n## T-Tests\n\n### Hypothesis Testing\n\n## AnOVA\n\nANOVA, like t-tests, compares the means of different groups to determine\nif they differ significantly from one another.\n\n-   ANOVA can examine independent variables with **more than 2 groups**.\n\n-   ANOVA *can* also be used for just 2 groups.\n\n-   It's more robust than t-tests.\n\n    -   We can investigate differences in differences and include\n        additional factors (IV's) in our hypotheses.\n\n## ANOVA\n\n### Hypothesis Testing\n\n-   $H_0: \\mu_1 = \\mu_2 = \\mu_3$\n\n-   $H_1: \\text{Means are not Equal}$\n\n## ANOVA\n\n### Does this look familiar?\n\n$$\\large{F = \\frac{\\Sigma n_j(\\color{red}{\\bar{X}_j-\\bar{X})^2}/(k-1)}{\\Sigma \\color{orange}{\\Sigma(X -\\bar{X}_j)^2}/N-k}}$$\n\n## ANOVA\n\n### Why Do We Need It?\n\n-   With a t-test, we were able to compare two means from independent\n    samples, why not just do the same but for three independent samples?\n\n-   Conceptually, imagine we have an Independent Variable with 3 levels\n    (`A,B,C`). If we wanted to see if there was a difference we need to\n    examine multiple comparisons.\n\n    -   $A > B \\| A > C\\| B > C$\n\n## ANOVA\n\n### Sampling Theory\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr,warn.conflicts = FALSE)\nlibrary(huxtable)\nlibrary(tidyr)\n\n# Generate data for two normal distributions\nx <- seq(-6, 6, length=100)\nnull_dist <- dnorm(x, mean = 0, sd = 1)\nalt_dist <- dnorm(x, mean = 2, sd = 1)\n\ndata <- data.frame(\n  x = rep(x, 2),\n  y = c(null_dist, alt_dist),\n  hypothesis = factor(rep(c(\"Null Hypothesis\", \"Alternative Hypothesis\"), each=length(x)))\n)\n\n\nplt <- \n  ggplot(data, aes(x = x, y = y, \n                 lty = rev(hypothesis))) +\n    geom_line(aes(color = \"purple\")) +\n  theme_linedraw() + \n  labs(\n    x = \"\",\n    y = \"\",\n    lty = \"Hypotheses\"\n  ) + \n  theme(\n    panel.grid = element_blank(),\n    legend.position = \"inside\",\n    legend.position.inside = c(.8,.8),\n    legend.background = element_rect(color = \"black\")\n  ) + \n  scale_color_identity()\n\nplt + \n  geom_vline(\n    xintercept = 1.6,\n    color = \"darkblue\"\n    ) + \n  geom_vline(\n    xintercept = 1, \n    color = \"red\"\n    ) + \n  geom_text(\n    x = 1, \n    y = .05, \n    label = \"Critical Value\",\n    color = \"red\",\n    angle = 90,\n    size = 3,\n    vjust = -.4\n    ) +\n  scale_x_continuous(\n    breaks = c(-6,-4,-2,0,2,4,6)\n    ) + \n  labs(title = \"We set the critical value so that 5% of the null distribution's area is to the right of it\")\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-1-1.png){width=960}\n:::\n:::\n\n\n\n\n## ANOVA\n\n### The Types\n\nThere are 3 types of ANOVA:\n\n-   Between-Subjects\n\n-   Within subjects (repeated measures ANOVA)\n\n-   Mixed designs (between and within together)\n\n## ANOVA\n\n### The Types\n\nThere are 3 types of ANOVA:\n\n-   One Factor (1 IV)\n\n-   Factorial (2+ IV)\n\n-   MANOVA\n\n# Between Subjects ANOVA\n\n## Between Subjects ANOVA\n\n### Definition\n\n-   The **Independent Samples t-test** was an example of Between\n    Subjects experimental design\n\n-   **Between-Subjects** designs are also known as Independent Group\n    Designs as they utilize the same principles\n\n::: fragment\n> Participants are randomly assigned to each level of the Independent\n> Variable making their scores independent from each other\n:::\n\n## Between Subjects ANOVA\n\n### Example\n\n> The **experimental group** drinks caffeinated coffee. The **placebo\n> group** drinks decaf. The **control group** drinks water. I ask all 3\n> groups to complete a survey to measure their happiness on a scale of 1\n> to 10.\n\n-   What is the IV?\n\n    -   How many levels does the IV have?\n\n-   What is the DV?\n\n## Between Subjects ANOVA\n\n### Example\n\n> The **experimental group** drinks caffeinated coffee. The **placebo\n> group** drinks decaf. The **control group** drinks water. I ask all 3\n> groups to complete a survey to measure their happiness on a scale of 1\n> to 10.\n\n-   IV: Coffee Consumption\n\n    -   3 Levels: Coffee, Decaf, Water\n\n-   DV: Happiness Score (1-10)\n\n## Between Subjects ANOVA\n\n### Example\n\n> The **experimental group** drinks caffeinated coffee. The **placebo\n> group** drinks decaf. The **control group** drinks water. I ask all 3\n> groups to complete a survey to measure their happiness on a scale of 1\n> to 10.\n\n-   The **experimental** group has a mean happiness score: `8`\n\n-   The **placebo** group mean happiness score: `6`\n\n-   The **control** group mean happiness score: `5`\n\n## Between Subjects ANOVA\n\n### Example\n\nIs the group that drank coffee significantly happier than the other\ngroups?\n\n-   $H_0 = \\mu_{1} = \\mu_{2} = \\mu_{3}$\n\n-   $H_0 = \\mu_{Coffee} = \\mu_{Control} = \\mu_{Placebo}$\n\n-   $H_{1} = \\mu_{Coffee} > \\mu_{Control} = \\mu_{Placebo}$\n\n## Between subjects ANOVA\n\n### Visually\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplt + \n  geom_vline(\n    xintercept = 2,\n    color = \"darkblue\"\n    ) + \n  geom_vline(\n    xintercept = 0, \n    color = \"red\"\n    ) + \n  theme(\n    axis.text.x = element_blank()\n  ) + \n  geom_text(\n    x = -2,\n    y = .3,\n    label = \"Placebo &\\nControl\"\n  ) +\n    geom_text(\n    x = 4,\n    y = .3,\n    label = \"Experimental\\nCaffeine\"\n  ) + \n  theme(\n    legend.position = \"none\"\n  )\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-2-1.png){width=960}\n:::\n:::\n\n\n\n\n## Between subjects ANOVA\n\n-   If it's all about the means, why is it called **Analysis of\n    Variance**?\n\n-   To compare the means, we analyzing two types of variance:\n\n-   Variance among all of the scores (**within group variance**)\n\n-   Variance between the groups (**between group variance**).\n\n## Between subjects ANOVA\n\n### Visual\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\nlibrary(ggtext)\n\nexp <- \n  tibble(\n  grp = rep(c(\"SSLD\",\"Placebo\",\"Control\"),each = 100),\n  IQ = c(rnorm(100,140,5),\n         rnorm(100,120,10),\n         rnorm(100,100,15)) |> round(0)\n  )\n\npl <- \n  exp |> \n  ggplot(aes(grp,IQ, color = grp)) + \n  geom_jitter() + \n  theme_minimal() + \n  theme(\n    panel.grid = element_blank(),\n    plot.title.position = \"plot\",\n    plot.subtitle = element_markdown()\n  ) + \n  labs(\n    x = \"\\nTest Condition\",\n    y = \"IQ Score\\n\",\n    title = \"Experimental Drug and IQ\",\n    subtitle = \"Is the variance between the <span style = 'color:darkgreen'>green</span>, <span style = 'color:red'>red</span>, and <span style = 'color:blue'>blue </span>dots <br>greater than the variance across all of the dots?\"\n  )\n\npl\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n\n\n## Between subjects ANOVA\n\n### Visual\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(patchwork)\n\npa1 <- pl + scale_color_manual(values = c(\"red\",\"grey\",\"grey\"))\npa2 <- pl + scale_color_manual(values = c(\"grey\",\"darkblue\",\"grey\"))\npa3 <- pl + scale_color_manual(values = c(\"grey\",\"grey\",\"darkgreen\"))\n\npa1 + plot_spacer() + pa2 + plot_spacer() + pa3\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n\n\n## The F Statistic\n\n-   ANOVA produces what we call the F statistic.\n\n-   Why do we call it F?\n\n::: fragment\n![Sir Ronald Fisher](images/ronald.png){style=\"border-radius: 20px;\"\nwidth=\"195\"}\n:::\n\n## Between subjects ANOVA\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(broom)\n\nano <- \n  aov(IQ ~ grp, data = exp) |>\n  tidy() |>\n  rename(\n    SS = sumsq,\n    MS = meansq,\n    `F` = statistic,\n    p = p.value\n  ) |> \n  hux() |> \n  set_align(value = \"center\") |> \n  theme_article()\n\nano[1,1] <- \"\"\nano[2:3,1] <- c(\"Between Groups\",\"Within groups\")\n\nanonew <- \n  ano |> \n  set_text_color(row = 2, col = 6, value = \"red\") |> \n  set_number_format(fmt_pretty(digits = 3)) \n\nanonew[2,6] <- \"<.001**\"\n\nanonew\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \">\n<col><col><col><col><col><col><tr>\n<th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;\"></th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">df</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">SS</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">MS</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">F</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;\">p</th></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">Between Groups</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">75,293</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">37,647</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">355</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\"><span style=\"color: rgb(255, 0, 0);\">&lt;0.001**</span></td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">Within groups</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">297</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">31,474</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">106</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\"></td></tr>\n</table>\n\n```\n\n:::\n:::\n\n\n\n\n## Calculating F\n\n-   Calculating the variance\n\n-   ANOVA looks at variance.\n\n    -   How do we calculate the Variance?\n\n    -   $s^2 = \\frac{\\Sigma(x-\\bar{x})^2}{n-1}$\n\n## Calculating the variance\n\nANOVA looks at variance. To calculate the Variance:\n\ni.  Calculate the mean.\n\n    -   $\\frac{\\sum x}{n}$\n\nii. Subtract the mean from each x-value - what is this called?\n\n    -   $(x-\\bar{x})$\n\n## Calculating the variance\n\nANOVA looks at variance. To calculate the Variance:\n\nI.  Calculate the mean.\n\nII. Subtract the mean from each x-value (**deviation score**).\n\nIII. Square the deviation scores.\n\n     I.  $(x-\\bar{x})^2$\n\nIV. Take the sum of the squared deviations - what is this called?\n\n    I.  $\\Sigma (x-\\bar{x})^2$\n\n## Calculating the variance\n\nANOVA looks at variance. To calculate the Variance:\n\ni.  Calculate the mean.\n\nii. Subtract the mean from each x-value (**deviation score**).\n\niii. Square the deviation scores.\n\niv. Take the sum of the squared deviations (**Sum of Squared\n    Deviations**).\n\n## Calculating the variance\n\nANOVA looks at variance. To calculate the Variance:\n\ni.  Calculate the mean.\nii. Subtract the mean from each x-value (deviation score).\niii. Square the deviation scores.\niv. Take the sum of the squared deviations (Sum of Squared Deviations).\nv.  Divide by (n-1) - what is this called?\n\n## Calculating the variance in ANOVA\n\nTo calculate the Variance in ANOVA:\n\ni.  Calculate the mean.\n\nii. Subtract the mean from each x-value (**deviation score**).\n\niii. Square the deviation scores.\n\niv. Take the sum of the squared deviations (**Sum of Squared\n    Deviations**).\n\nv.  Divide by (**degrees of freedom**).\n\n::: fragment\n**This is the variance**, but in ANOVA we also call it a Mean Squared\n(MS).\n:::\n\n## Calculating Means squared (MS)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the Sum of Squares (SS).\nssex <- \n  tibble(\n  X = c(1,2,2,3,4,4,5,5,5,5,5,5,5,5,6,6,7,7,8,10),\n  `x-xbar` = X - mean(X),\n  `(X-xbar)^2` = `x-xbar`^2\n)\n\n# Show Data\nssex |> hux() |> theme_article() |> set_width(.8)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 80%; margin-left: auto; margin-right: auto;  \">\n<col><col><col><tr>\n<th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;\">X</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">x-xbar</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;\">(X-xbar)^2</th></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">1</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-4</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">16</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-3</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">9</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-3</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">9</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">3</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">4</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">4</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">1</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">4</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">-1</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">1</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">0</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">6</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">1</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">6</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">1</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">7</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">4</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">7</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">4</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">8</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">3</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">9</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">10</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">5</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">25</td></tr>\n</table>\n\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Divide the SS by the degrees of freedom.\nss <- sum(ssex$`(X-xbar)^2`)\n\n# Show SS\nss\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 84\n```\n\n\n:::\n\n```{.r .cell-code}\nss/(length(ssex$X)-1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.421053\n```\n\n\n:::\n:::\n\n\n\n\n## Calculating Means squared (MS)\n\n-   We will calculate a SS for the between group variance.\n\n    -   How much variance in the data is from group differences?\n\n-   We will calculate a SS for all the data.\n\n    -   How much variance in the data is from random error?\n\n## Between subjects ANOVA\n\n::::: columns\n::: {.column width=\"50%\"}\n-   $SS_{BG}$ = How much variance comes comes from the group\n    differences?\n\n-   $SS_{Error}$ = How much variance is there in total among all the\n    data points?\n:::\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npl\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n\n\n:::\n:::::\n\n## Calculating means squared (MS)\n\n-   Calculate the $SS_{BG}$\n\n-   Calculate the $SS_{Error}$\n\n-   Divide the $SS$ by their degrees of freedom.\n\n## Degrees of Freedom (df)\n\n### What Does it All Mean!\n\n-   The number of observations (data points) in the data that are **free\n    to vary** when estimating a statistic.\n\n-   I own 7 hats. I want to wear a different hat every day of the week.\n\n![](images/hats.png){.hat}\n\n## Degrees of Freedom (df)\n\n### What Does it All Mean!\n\n-   On Monday, I have 7 hats to choose from.\n\n-   On Tuesday, I have 6 hats to choose from.\n\n-   On Wednesday, I have 5 hats to choose from.\n\n-   On Thursday, I have 4 hats to choose from.\n\n-   On Friday, I have 3 hats to choose from.\n\n-   On Saturday, I have 2 hats to choose from.\n\n## Degrees of Freedom (df)\n\n### What Does it All Mean!\n\nOn Sunday, I don't get a choice. On Sunday, I *have* to wear the Santa\nhat.\n\n![](images/hats.png)\n\n## Degrees of Freedom (df)\n\n### What Does it All Mean!\n\n-   The number of observations (data points) in the data that are **free\n    to vary** when estimating a statistic.\n\n-   The degrees of freedom is how many times I get a choice before I'm\n    stuck with what's left over.\n\n## Degrees of freedom\n\n-   Between Groups ($df_{BG} = k - 1$)\n\n    -   k is the number of groups in the independent variable.\n\n-   Within Groups ($df_{WG} = n - k$)\n\n-   $Total = n - 1$\n\n## Calculating Means Squared (MS)\n\n-   Calculate the $SS_{BG}$.\n\n-   Calculate the $SS_{Error}$.\n\n-   Divide the SS by their degrees of freedom.\n\n## Calculating the MS\n\n-   Between Group Mean Squared: $MS_{BG} = \\frac{SS_{BG}}{k - 1}$\n\n-   Error Mean Squared: $MS_{Error} = \\frac{SS_{Error} }{(n - k)}$\n\n## Calculating Between subjects anova\n\n$$F = \\frac{\\color{orange}{MS_{BG}}}{\\color{grey}{MS_{Error}}}$$\n\n-   $MS_{BG} = \\frac{SS_{BG}}{df_{BG}}$\n\n-   $MS_{Error} = \\frac{SS_{Error}}{df_{Error}}$\n\n## Between subjects ANOVA\n\n### Example\n\n> Prof Brocker gives **one group** of 100 participants the Super Secret\n> Limitless Drug (SSLD). He gives **another group** of 100 participants\n> a placebo. He gives the **third group** of 100 participants nothing.\n> All participants then complete an IQ test. He wants to know if those\n> who took the SSLD has significantly higher IQ than the placebo and the\n> control groups.\n\n## Between subjects ANOVA\n\n### Example: The Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create Group Variable\n# Three Levels (SSLD, Placebo, Control)\n\nexp <- \n  tibble(\n  grp = rep(c(\"SSLD\",\"Placebo\",\"Control\"),each = 100),\n  IQ = c(rnorm(100,140,5),\n         rnorm(100,120,10),\n         rnorm(100,100,15)) |> round(0)\n  )\n\nexp |> \n  group_by(grp) |> \n  mutate(\n     id = row_number()\n  ) |> \n  tidyr::pivot_wider(\n    names_from = \"grp\",\n    values_from = \"IQ\"\n    ) |> \n  select(!id) |> \n  head() |> \n  hux() |> \n  theme_article()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \">\n<col><col><col><tr>\n<th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;\">SSLD</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">Placebo</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;\">Control</th></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">147</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">136</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">106</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">140</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">106</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">92</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">145</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">118</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">109</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">134</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">124</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">92</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">136</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">123</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">79</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">148</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">110</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">102</td></tr>\n</table>\n\n```\n\n:::\n:::\n\n\n\n\n## Between subjects ANOVA\n\n### Example\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nano |> \n  set_text_color(row = 2,col = 2:3,value = \"darkgreen\") |> \n  set_text_color(row = 2, col = 4, value = \"darkblue\") |> \n  set_number_format(fmt_pretty())\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \">\n<col><col><col><col><col><col><tr>\n<th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;\"></th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">df</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">SS</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">MS</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">F</th><th style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;\">p</th></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">Between Groups</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"><span style=\"color: rgb(0, 100, 0);\">2</span></td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"><span style=\"color: rgb(0, 100, 0);\">75,293.45</span></td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"><span style=\"color: rgb(0, 0, 139);\">37,646.72</span></td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">355.2514</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">0.0000000000000000000000000000000000000000000000000000000000000000000000000000001668243</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">Within groups</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">297</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">31,473.7</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">105.9721</td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\"></td><td style=\"vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\"></td></tr>\n</table>\n\n```\n\n:::\n:::\n\n\n\n\n## Between subjects ANOVA\n\n### Example\n\n> Prof Brocker recruits `500` participants. He shows *half* of them the\n> Netflix Original, Dark and the other *half* Jeopardy. He then measures\n> their happiness on a scale of 1 to 10. He wants to know if Dark\n> participants are significantly happier than the Jeopardy participants.\n\n-   What is the IV?\n\n-   What is the DV?\n\n-   What is the sample size?\n\n# Interpreting F\n\n## F-Distribution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define the degrees of freedom\ndf1 <- 2  # Numerator degrees of freedom\ndf2 <- 497 # Denominator degrees of freedom\n\n# Plot the F-distribution curve\ncurve(df(x, df1, df2), from = 0, to = 5, col = \"blue\", lwd = 2,\n      xlab = \"F value\", ylab = \"Density\",\n      main = paste(\"F-Distribution (df1 =\", df1, \", df2 =\", df2, \")\"))\n\n# Add a vertical line at the critical value (e.g., 0.05 significance level)\ncritical_value <- qf(0.95, df1, df2)\nabline(v = critical_value, col = \"red\", lwd = 2, lty = 2)\n\n# Add a legend\nlegend(\"topright\", legend = c(\"F-Density\", \"Critical Value (0.05)\"),\n       col = c(\"blue\", \"red\"), lwd = 2, lty = c(1, 2))\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n\n\n\n## Interpreting f\n\nThe $MS_{BG}$ is made up of the $MS_{Error}$ + the theoretical\ndifference between groups:\n\n-   $MS_{BG} = \\text{group difference} + MS_{Error}$\n\n-   $MS_{BG} = 0 + MS_{Error}$\n\n-   $MS_{BG} = MS_{Error}$\n\n-   $F = \\frac{MS_{BG}}{MS_{Error}}$\n\n-   $F = 1$\n\n## Interpreting f\n\n-   When $F =< 1$, it's not likely to be statistically significant.\n\n## Interpreting f\n\nThe $MS_{BG}$ is made up of the $MS_{Error}$ + the theoretical\ndifference between groups:\n\n-   $MS~BG~ = \\text{group difference} + MS_{Error}$\n\n-   $MS~BG~ = \\text{NUMBER GREATER THAN 0} + MS_{Error}$\n\n-   $F = \\text{DIFFERENCE} + \\frac{MS_{Error}}{MS_{Error}}$\n\n-   $F = DIFFERENCE$\n\n## Hypothesis testing: ANOVA\n\n### Decision Criteria\n\n-   $F \\leq 1$: Fail to reject the Null Hypothesis\n\n-   $F \\gt 1$: Refer to p-value: Reject the Null Hypothesis\n\n# Reporting F\n\n## Reporting F\n\nIf asked to report findings in terms of the Null Hypothesis ($H_0$), you\nshould report findings as:\n\n-   Reject $H_0$\n\n-   Fail to Reject $H_0$\n\n## Reporting F\n\n### What to Look For\n\nIf asked to report findings in general or for publication, you need to\nreport 5 things:\n\n-   $F(df_{bg},df_{error})$\n\n-   F-value\n\n-   p-value\n\n-   Mean and standard deviation of each group\n\n## Reporting F\n\n> The group that watched Dark (M=`8.43`, s=`1.02`) reported\n> significantly more happiness compared to their peers in the control\n> group who watched Jeopardy (M=`6.12`, s=`0.98`),\n> `F(1,498) = 7.12, p < 0.05`.\n\n## Reporting F\n\nThere was not a significant difference in happiness between the groups,\n$F(1, 498) = 1.02, p = 0.07$.\n\n## Reporting F\n\n### Example\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex2 <- \n  tibble(\n    grp = rep(c(\"A\",\"B\",\"C\"),each = 30),\n    score = c(rnorm(30,50,5),rnorm(30,55,5),rnorm(30,60,5))\n    )\n\naov(score~grp, data = ex2) |> \n  tidy() |> \n  hux() |> \n  theme_article()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<table class=\"huxtable\" data-quarto-disable-processing=\"true\" style=\"border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  \">\n<col><col><col><col><col><col><tr>\n<th style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: bold;\">term</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">df</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">sumsq</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">meansq</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: bold;\">statistic</th><th style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: bold;\">p.value</th></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">grp</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">1.62e+03</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">811&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">31.9</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">4.02e-11</td></tr>\n<tr>\n<td style=\"vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 0pt; font-weight: normal;\">Residuals</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">87</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">2.21e+03</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">25.4</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;\">&nbsp;&nbsp;</td><td style=\"vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 0pt 6pt 6pt; font-weight: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>\n</table>\n\n```\n\n:::\n:::\n\n\n\n\n## ANOVA\n\n### Visualizing\n\n::: panel-tabset\n## Barplot with Errorbars\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex2 |> \n  ggplot(aes(grp,score,fill = grp)) +\n  stat_summary(\n    fun = \"mean\",\n    geom = \"bar\",\n    width = .2\n  ) +\n  stat_summary(\n    fun.data = \"mean_se\",\n    geom = \"errorbar\",\n    width = .2\n  ) +\n  theme_minimal() +\n  labs(\n    x = \"\\nTreatment Group\",\n    y = \"Score\\n\",\n    fill = \"Group\"\n  )\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n\n\n## Distribution with Point Estimates\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex2 |> \n  ggplot(aes(grp,score,color = grp)) +\n  geom_jitter(alpha = .2, show.legend = FALSE) + \n  stat_summary(\n    fun.data = \"mean_se\",\n    geom = \"line\",\n    group = 1,\n    color = \"black\"\n  ) +\n  stat_summary(\n    fun.data = \"mean_se\",\n    geom = \"errorbar\",\n    width = .2\n  ) +\n  theme_minimal() +\n    labs(\n    x = \"\\nTreatment Group\",\n    y = \"Score\\n\",\n    color = \"Group\"\n  ) \n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n\n\n## Boxplot with Distribution\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggdist)\nggplot(ex2, aes(x = grp, y = score, fill = grp)) +\n  geom_boxplot(width = 0.2, \n               outlier.shape = NA, \n               alpha = 0.4) +\n  geom_jitter(\n    alpha = 0.4, \n    width = 0.2,\n    show.legend = FALSE,\n    aes(color = grp)\n    ) +\n  theme_minimal() +\n  labs(\n    x = \"\\nTreatment Group\",\n    y = \"Score\\n\",\n    fill = \"Group\"\n  )\n```\n\n::: {.cell-output-display}\n![](lec16_files/figure-revealjs/unnamed-chunk-15-1.png){width=960}\n:::\n:::\n\n\n\n:::\n",
    "supporting": [
      "lec16_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}