"id",
"political_interest",
twoway,
between = c("gender","education_level"),
return = "aov"
) |> summary()
aov_ez(
"id",
"political_interest",
twoway,
between = c("gender","education_level"),
return = "aov",
) |> summary()
?aov_ez()
aov_ez(
"id",
"political_interest",
twoway,
between = c("gender","education_level"),
return = "aov", anova_table=list(correction = "none", es = "none")
aov_ez(
"id",
"political_interest",
twoway,
between = c("gender","education_level"),
return = "aov", anova_table=list(correction = "none", es = "none"))
aov_ez(
"id",
"political_interest",
twoway,
between = c("gender","education_level"),
return = "aov", anova_table=list(correction = "none", es = "none")) |> summary()
df |>
ggplot(aes(diet_type, weight_loss,color = exercise_regimen, group = exercise_regimen)) +
geom_jitter() +
stat_summary(fun = "mean", geom = "point") +
stat_summary(fun = "mean", geom = "line") +
stat_summary(fun.data = "mean_se", geom = "errorbar", width = .2) +
theme_minimal() +
labs(x = "", y = "Weight Loss\n")
set.seed(42)
# Create a balanced design
df <- expand.grid(
diet_type = c("Low Carb", "Low Fat"),
exercise_regimen = c("Cardio", "Strength"),
id = 1:25
) %>%
mutate(
# simulate main effects: both diet and exercise influence weight loss
weight_loss = case_when(
diet_type == "Low Carb" ~ 6,
diet_type == "Low Fat" ~ 4
) + case_when(
exercise_regimen == "Cardio" ~ 5,
exercise_regimen == "Strength" ~ 3
) +
rnorm(n(), mean = 0, sd = 1.5)  # add some noise
)
# Run the two-way ANOVA
anova_result <- aov(weight_loss ~ diet_type * exercise_regimen, data = df)
anova_result |>
tidy() |>
mutate(
p.value = ifelse(p.value < .001, "<.001",p.value |> round(2)),
statistic = ifelse(is.na(statistic),"--",statistic |> round(2)),
p.value = ifelse(is.na(p.value),"--",p.value)
) |>
rename(
Source = term,
SS = sumsq,
MS = meansq,
`F` = statistic,
p = p.value
) |>
gt() |>
fmt_auto() |>
tab_footnote(footnote = md("*Dependent Variable: Weight Loss*<br>
*Exercise Regimen: Cardio, Strength*<br>
*Diet Type: Low Carb, Low Fat*")) |>
tab_style(
style = cell_text(weight = "bold"),
locations = cells_column_labels()
)  |>
tab_options(
table.width = pct(75),
table.font.size = 30
)
df |>
ggplot(aes(diet_type, weight_loss,color = exercise_regimen, group = exercise_regimen)) +
geom_jitter() +
stat_summary(fun = "mean", geom = "point") +
stat_summary(fun = "mean", geom = "line") +
stat_summary(fun.data = "mean_se", geom = "errorbar", width = .2) +
theme_minimal() +
labs(x = "", y = "Weight Loss\n")
set.seed(1031)  # Halloween-ish number for reproducibility
# Create a balanced factorial design
new_df <- expand.grid(
mask_condition = c("Mask", "No Mask"),
group_condition = c("Alone", "Group"),
n = 1:125  # 125 per cell â†’ 500 total
) %>%
mutate(
# Simulate DV with higher values for Mask + Alone
candy_collected = case_when(
mask_condition == "Mask" & group_condition == "Alone" ~ rnorm(n(), mean = 50, sd = 5),
mask_condition == "Mask" & group_condition == "Group" ~ rnorm(n(), mean = 44, sd = 5),
mask_condition == "No Mask" & group_condition == "Alone" ~ rnorm(n(), mean = 42, sd = 5),
mask_condition == "No Mask" & group_condition == "Group" ~ rnorm(n(), mean = 40, sd = 5)
)
)
# Run a two-way ANOVA
model <- aov(candy_collected ~ mask_condition * group_condition, data = new_df)
model |>
tidy() |>
mutate(
p.value = ifelse(p.value < .001, "<.001",p.value),
statistic = ifelse(is.na(statistic),"--",statistic |> round(2)),
p.value = ifelse(is.na(p.value),"--",p.value)
) |>
rename(
Source = term,
SS = sumsq,
MS = meansq,
`F` = statistic,
p = p.value
) |>
gt() |>
fmt_auto() |>
tab_footnote(footnote = md("*Dependent Variable: Candy Collected*")) |>
tab_style(
style = cell_text(weight = "bold"),
locations = cells_column_labels()
)
library(rvest)
url <- "https://archive.org/stream/InfiniteJest/Infinite-Jest_djvu.txt"
url |>
read_html()
url |>
read_html() |>
html_attr("p")
url |>
read_html() |>
html_attr("pre")
url |>
read_html() |>
html_attr(".pre")
?html_attr
url |>
read_html() |>
html_elements("pre")
url |>
read_html() |>
html_elements("pre") |>
html_text()
ij <-
url |>
read_html() |>
html_elements("pre") |>
html_text()
library(tidytext)
library(stringr)
ij <-
url |>
read_html() |>
html_elements("pre") |>
html_text() |>
as_tibble(text = _)
ij <-
url |>
read_html() |>
html_elements("pre") |>
html_text() |>
as_tibble(_ = text)
ij <-
url |>
read_html() |>
html_elements("pre") |>
html_text() |>
tibble(_ = text)
ij <-
url |>
read_html() |>
html_elements("pre") |>
html_text() |>
tibble(text = _)
ij |>
unnest_tokens(word,text)
ij |>
unnest_tokens(word,text) |>
count(word)
ij |>
unnest_tokens(word,text) |>
count(word, sort = TRUE)
31113/21306
14725/13289
ij |>
unnest_tokens(word,text) |>
anti_join(stop_words) |>
count(word, sort = TRUE)
ij |>
unnest_tokens(word,text) |>
anti_join(stop_words) |>
count(word, sort = TRUE) |> View()
ij |>
unnest_tokens(word,text, to_lower = FALSE) |>
anti_join(stop_words) |>
count(word, sort = TRUE) |> View()
ij |>
unnest_tokens(word,text, to_lower = FALSE) |>
anti_join(stop_words) |>
count(word, sort = TRUE) |>
filter(str_detect(word,"^[A-Z]"))
STOP_WORDS <- stop_words$word |> str_to_title()
STOP_WORD
STOP_WORDS
ij |>
unnest_tokens(word,text, to_lower = FALSE) |>
anti_join(stop_words, STOP_WORDS) |>
count(word, sort = TRUE) |>
filter(str_detect(word,"^[A-Z]"))
ij |>
unnest_tokens(word,text, to_lower = FALSE) |>
anti_join(stop_words) |>
anti_join(STOP_WORDS) |>
count(word, sort = TRUE) |>
filter(str_detect(word,"^[A-Z]"))
STOP_WORDS
STOP_WORDS <- stop_words |> mutate(word = str_to_title(word))
ij |>
unnest_tokens(word,text, to_lower = FALSE) |>
anti_join(stop_words) |>
anti_join(STOP_WORDS) |>
count(word, sort = TRUE) |>
filter(str_detect(word,"^[A-Z]"))
update.packages("stringr")
library(stringr)
x <- "three cats Three dogs and ThRee rats"
str_like(x,"three")
str_like(x,"three|Three")
?str_like
str_like(x,"th%")
install.packages(c("arrow", "broom", "broom.helpers", "Cairo", "colorspace", "countdown", "credentials", "datawizard", "devtools", "digest", "downlit", "ellmer", "emmeans", "forcats", "gdtools", "ggiraph", "ggplot2", "ggpubr", "ggsci", "gt", "here", "Hmisc", "hms", "huxtable", "igraph", "labelled", "lava", "lavaan", "listenv", "litedown", "lobstr", "mgcv", "officer", "OpenMx", "openssl", "openxlsx", "pillar", "pkgdown", "pkgload", "progressr", "promises", "purrr", "rbibutils", "readr", "reformulas", "reshape2", "rio", "rmarkdown", "rsconnect", "RSQLite", "rstatix", "rversions", "rvg", "S7", "sf", "stringr", "svglite", "systemfonts", "terra", "testthat", "textshaping", "timeDate", "units", "V8", "vroom", "waiter", "xfun", "XML", "xml2"))
install.packages(c("ellmer", "ggplot2"))
library(stringr)
packageVersion("stringr")
tibble(
iv1 = rep(c("level1","level2"),each = 30),
iv2 = rep(c("trt","plc","con"), each = 30),
iv3 = rep(c("low","med","high"), each = 30)
)
library(dplyr)
tibble(
iv1 = rep(c("level1","level2"),each = 30),
iv2 = rep(c("trt","plc","con"), each = 30),
iv3 = rep(c("low","med","high"), each = 30)
)
tibble(
iv1 = rep(c("level1","level2"),each = 45),
iv2 = rep(c("trt","plc","con"), each = 30),
iv3 = rep(c("low","med","high"), each = 30)
)
2x3x3
2*3*3
tibble(
iv1 = rep(c("level1","level2"),each = 45),
iv2 = rep(c("trt","con"), each = 45),
iv3 = rep(c("low","med","high"), each = 30),
)
2*2*3
3*3
30*6
tibble(
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
rnorm(180, c(sample(10:18)))
)
tibble(
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
rnorm(180, c(sample(10:18,1,replace = TRUE)))
)
tibble(
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
tibble(
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
dv = rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
w2 <-
tibble(
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
dv = rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
aov(data = w2, dv ~ iv1*iv2) |> summary()
aov(data = w2, dv ~ iv1*iv2)
library(afex)
aov_ez(
dv = "dv",
between = c("iv1","iv2")
)
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2")
)
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2"),
data = w2
)
w2 <-
tibble(
id = paste0("P",1:90),
iv1 = rep(c("trt","plc","con"), each = 30),
iv2 = rep(c("low","med","high"), each = 30),
dv = rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2"),
data = w2
)
library(broom)
aov(data = w2, dv ~ iv1*iv2) |> tidy() |> gt()
aov(data = w2, dv ~ iv1*iv2) |> tidy()
w2 <-
tibble(
id = paste0("P",1:90),
iv1 = factor(rep(c("trt","plc","con")), each = 30),
iv2 = factor(rep(c("low","med","high")), each = 30),
dv = rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
w2 <-
tibble(
id = paste0("P",1:90),
iv1 = factor(rep(c("trt","plc","con"), each = 30)),
iv2 = factor(rep(c("low","med","high"), each = 30)),
dv = rnorm(90, c(sample(10:18,1,replace = TRUE)))
)
w2
aov(data = w2, dv ~ iv1*iv2) |> tidy()
aov_4(data = w2, dv ~ iv1*iv2)
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2"),
data = w2
)
w2
30*9
w2 <-
tibble(
id = paste0("P",1:270),
iv1 = factor(rep(c("trt","plc","con"), each =90)),
iv2 = factor(rep(c("low","med","high"), each = 90)),
dv = rnorm(270, c(sample(10:18,1,replace = TRUE)))
)
aov(data = w2, dv ~ iv1*iv2) |> tidy()
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2"),
data = w2
)
w2 |> View()
w2 <-
tibble(
id = paste0("P",1:270),
iv1 = factor(rep(c("trt","plc","con"), 90)),
iv2 = factor(rep(c("low","med","high"), each = 90)),
dv = rnorm(270, c(sample(10:18,1,replace = TRUE)))
)
w2 <-
tibble(
id = paste0("P",1:270),
iv1 = factor(rep(c("trt","plc","con"), 90)),
iv2 = factor(rep(c("low","med","high"), each = 90)),
dv = rnorm(270, c(sample(10:18,1,replace = TRUE)))
)
w2 |> View()
aov(data = w2, dv ~ iv1*iv2) |> tidy()
aov_ez(
id = "id",
dv = "dv",
between = c("iv1","iv2"),
data = w2
)
with(w2,table(iv1,iv2))
aov(data = w2, dv ~ iv1*iv2) |> tidy()
aov(data = w2, dv ~ iv1*iv2) |> tidy() |> gt()
library(gt)
aov(data = w2, dv ~ iv1*iv2) |> tidy() |> gt()
aov(data = w2, dv ~ iv1*iv2) |> tidy() |> gt() |> fmt_auto()
mm <- aov(data = w2, dv ~ iv1*iv2)
TukeyHSD(mm)
TukeyHSD(mm) |> plot()
TukeyHSD(mm) |> plot()
library(datarium)
jobsatisfaction |> View()
datarium::jobsatisfaction |> names()
aov_ez(
id = "id",
dv = "score",
between = c("gender","education_level"),
data = jobsatisfaction
)
mod2 <-
aov_ez(
id = "id",
dv = "score",
between = c("gender","education_level"),
data = jobsatisfaction
)
mod2$lm
mod2$lm |> TukeyHSD()
mod2$aov |> TukeyHSD()
mod2$anova_table |> TukeyHSD()
mod3 <- data = jobsatisfaction
mod3 <- aov(data = jobsatisfaction, score ~ gender * education_level)
mod3 |> TukeyHSD()
mod3 |> TukeyHSD() |> plot()
library(ggplot2)
jobsatisfaction |>
ggplot(aes(score, gender, shape = education_level)) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
stat_summary(
fun.data = "mean_se",
geom = "line",
group = 1
) +
theme_minimal()
jobsatisfaction |>
ggplot(aes(gender, score, shape = education_level)) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
stat_summary(
fun.data = "mean_se",
geom = "line",
group = 1
) +
theme_minimal()
jobsatisfaction |>
ggplot(aes(gender, score, shape = education_level, color = education_level)) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
stat_summary(
fun.data = "mean_se",
geom = "line",
group = 1
) +
theme_minimal()
jobsatisfaction |>
ggplot(aes(gender, score,
shape = education_level,
color = education_level)) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
# stat_summary(
#   fun.data = "mean_se",
#   geom = "line",
#   group = 1
# ) +
theme_minimal()
jobsatisfaction |>
ggplot(aes(gender, score,
color = education_level)) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
# stat_summary(
#   fun.data = "mean_se",
#   geom = "line",
#   group = 1
# ) +
theme_minimal()
jobsatisfaction |>
ggplot(aes(gender, score,
color = education_level)) +
geom_jitter(alpha = .3) +
stat_summary(
fun.data = "mean_se",
geom = "errorbar",
width = .2
) +
# stat_summary(
#   fun.data = "mean_se",
#   geom = "line",
#   group = 1
# ) +
theme_minimal()
